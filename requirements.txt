keyboard
simpleaudio

sudo apt update
sudo apt install -y \
    python3-pip \
    python3-dev \
    freetds-bin freetds-dev \
    unixodbc unixodbc-dev \
    python3-evdev \
    libpq-dev \
    python3-rpi.gpio


pip install evdev
pip install pyyaml


sudo apt install -y unixodbc unixodbc-dev odbcinst tdsodbc freetds-bin
# python3-dev  - this install header files and build tools for python
# unixodbc-dev - Development files for UnixODBC

#python3-evdev

# *Installs the Python module evdev from the Debian/Raspberry Pi repositories.

# *evdev lets us read from /dev/input/... devices (like your USB barcode scanner acting as a keyboard).

#* This is how our code reads keypress events from the scanner in headless mode.


# sudo apt install -y python3-rpi.gpio
pip3 install pyodbc


# Also makesure pi has permission to read input devices

whoami
sudo usermod -a -G input pi


sudo usermod -aG input,audio visualai
sudo reboot


sudo reboot

# ! Scanner input check
# ! ls -l /dev/input/by-id


# sudo mkdir -p /usr/lib/arm-linux-gnueabihf/odbc
# sudo ln -sf /usr/lib/aarch64-linux-gnu/odbc/libtdsodbc.so /usr/lib/arm-linux-gnueabihf/odbc/libtdsodbc.so
# sudo ln -sf /usr/lib/aarch64-linux-gnu/odbc/libtdsS.so   /usr/lib/arm-linux-gnueabihf/odbc/libtdsS.so


# ls -l /usr/lib/arm-linux-gnueabihf/odbc/libtdsodbc.so /usr/lib/arm-linux-gnueabihf/odbc/libtdsS.so

 #pip install simpleaudio


 # pip install pyttsx3
sudo usermod -aG input,audio visualai
sudo reboot

#for audio speaker
# sudo apt-get update
# sudo apt-get install -y espeak-ng libespeak-ng1 libespeak-ng-dev python3-pyaudio 
# pip install pyttsx3


sudo apt-get install -y libasound2 libasound2-dev build-essential python3-dev
pip install --no-cache-dir simpleaudio


sudo cp home/visualai/Documents/Barcode-Scanning/scanning/scanning.service /etc/systemd/system/scanning.service

home/visualai/Documents/Barcode_Scanning/scanning
sudo systemctl daemon-reload
sudo systemctl enable scanning.service

journalctl -u scanning.service -f
sudo systemctl start scanning.service


sudo systemctl daemon-reload
sudo systemctl restart scanning.service


# confirm the user exists
id visualai

# strip CRLF from the unit
sudo sed -i 's/\r$//' /etc/systemd/system/scanning.service

# reload and restart
sudo systemctl daemon-reload
sudo systemctl restart scanning.service
sudo systemctl status scanning.service

# delete the unit file
sudo rm /etc/systemd/system/scanning.service

# reload systemd so it forgets the removed unit
sudo systemctl daemon-reload
